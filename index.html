<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="/src/styles.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>crabdrop</title>
    <script type="module" src="/src/main.ts" defer></script>
</head>

<body>
<main id="setup-screen" class="container setup hidden">
    <div class="setup-card">
        <h1>ü¶Ä crabdrop</h1>
        <p class="subtitle">Connect your S3-compatible storage</p>

        <form id="setup-form">
            <div class="form-group">
                <label for="endpoint">Endpoint URL</label>
                <input
                        type="text"
                        id="endpoint"
                        placeholder="https://s3.us-east-1.amazonaws.com"
                />
                <span class="hint">Leave empty for AWS (uses region), or enter custom endpoint for MinIO/R2</span>
            </div>

            <div class="form-group">
                <label for="bucket">Bucket Name</label>
                <input
                        type="text"
                        id="bucket"
                        placeholder="my-bucket"
                        required
                />
            </div>

            <div class="form-group">
                <label for="region">Region</label>
                <input
                        type="text"
                        id="region"
                        placeholder="us-east-1"
                        required
                />
            </div>

            <div class="form-group">
                <label for="access-key">Access Key ID</label>
                <input
                        type="text"
                        id="access-key"
                        placeholder="AKIA..."
                        required
                />
            </div>

            <div class="form-group">
                <label for="secret-key">Secret Access Key</label>
                <input
                        type="password"
                        id="secret-key"
                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                        required
                />
            </div>

            <div id="setup-error" class="error hidden"></div>

            <button type="submit" id="btn-connect">
                Connect
            </button>
        </form>
    </div>
</main>

<main id="browser-screen" class="container hidden">
    <header>
        <h1>ü¶Ä crabdrop</h1>
    </header>

    <nav class="breadcrumb">
        <span id="current-path">/</span>
    </nav>

    <div class="toolbar">
        <button id="btn-back">‚Üê Back</button>
        <button id="btn-refresh">Refresh</button>
        <button id="btn-new-folder">New Folder</button>
        <button id="btn-settings" class="btn-right">‚öôÔ∏è</button>
    </div>

    <div id="file-list" class="file-list"></div>

    <div id="drop-zone" class="drop-zone">
        <p>Drag files here to upload</p>
    </div>
</main>

<div id="folder-modal" class="modal hidden">
    <div class="modal-content">
        <h3>New Folder</h3>
        <label for="folder-name"></label><input type="text" id="folder-name" placeholder="Folder name"/>
        <div class="modal-buttons">
            <button id="folder-cancel">Cancel</button>
            <button id="folder-create">Create</button>
        </div>
    </div>
</div>

<div id="upload-overlay" class="upload-overlay hidden">
    <div class="upload-card">
        <div class="upload-header">
            <span>Uploading</span>
            <button id="upload-close" class="upload-close">‚úï</button>
        </div>

        <div class="upload-body">
            <div class="upload-filename">
                <span class="upload-icon">üìÑ</span>
                <span id="upload-name">filename.ext</span>
            </div>

            <div class="upload-progress-container">
                <div class="upload-progress-bar">
                    <div id="upload-progress-fill" class="upload-progress-fill"></div>
                </div>
                <span id="upload-percent" class="upload-percent">0%</span>
            </div>

            <div id="upload-details" class="upload-details">
                <span id="upload-part-info" class="hidden">Part 0/0 ‚Ä¢ Multipart</span>
                <span id="upload-file-info" class="hidden">File 0 of 0</span>
            </div>
        </div>
    </div>
</div>
</body>
</html>